angular.module("ngCacheBuster",[]).config(["$httpProvider",function(t){return t.interceptors.push("httpRequestInterceptorCacheBuster")}]).provider("httpRequestInterceptorCacheBuster",function(){this.matchlist=[/.*partials.*/,/.*views.*/],this.logRequests=!1,this.black=!1,this.setMatchlist=function(t,e){this.black="undefined"!=typeof e&&e,this.matchlist=t},this.setLogRequests=function(t){this.logRequests=t},this.$get=["$q","$log",function(t,e){var r=this.matchlist,s=this.logRequests,i=this.black;return s&&e.log("Blacklist? ",i),{request:function(u){for(var n=!i,h=0;h<r.length;h++)if(u.url.match(r[h])){n=i;break}if(n){var c=new Date;u.url=u.url.replace(/[?|&]cacheBuster=\d+/,""),u.url+=u.url.indexOf("?")===-1?"?":"&",u.url+="cacheBuster="+c.getTime()}if(s){var l="request.url ="+u.url;n?e.warn(l):e.info(l)}return u||t.when(u)}}}]});